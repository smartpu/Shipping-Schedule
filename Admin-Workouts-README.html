<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin · 健身记录面板使用说明</title>
    <link rel="stylesheet" href="vendor/theme-styles.css">
    <script src="vendor/auth-gist.js"></script>
</head>
<body data-page="Admin-Workouts-README.html">
    <div class="dashboard-container">
        <!-- 左侧导航栏占位容器（将由sidebar-loader.js动态加载） -->
        <div id="sidebar-placeholder"></div>

        <!-- 右侧内容 -->
        <main class="dashboard-content">
            <div class="container">
                <!-- 顶部介绍卡片，沿用 dashboard 风格 -->
                <div class="section-intro">
                    <div class="section-intro-header">
                        <div class="section-intro-content">
                            <h2>Admin · 健身记录面板使用说明</h2>
                            <p>专业的健身记录可视化工具，支持 CSV 数据导入、多维度分析和趋势可视化，帮助您追踪运动距离和时间趋势。</p>
                        </div>
                        <div class="section-intro-actions">
                            <a href="dashboard.html?tab=admin" class="tool-link" aria-label="返回工具集首页">← 返回首页</a>
                            <a href="Admin-Workouts.html?from=admin" class="tool-link secondary" aria-label="打开工具">打开工具 →</a>
                        </div>
                    </div>
                </div>

                <!-- 内容区域 -->
                <div class="card-white mt-20">
                    <div class="readme-content">
                        <h2>工具简介</h2>
                        <p><strong>Admin · 健身记录面板</strong> 是一款专业的健身记录可视化工具。支持载入 CSV 格式的苹果健身记录数据，通过多维度图表展示运动趋势，帮助您了解自己的运动习惯和进步情况。工具主要特点：</p>
                        <ul>
                            <li><strong>CSV 数据导入</strong>：支持载入 CSV 格式的健身记录数据，数据仅在本地浏览器解析</li>
                            <li><strong>趋势可视化</strong>：使用苹果风格图表展示运动距离和时间趋势，支持日/月/年视图切换</li>
                            <li><strong>深度分析</strong>：提供平均速度、每周统计、运动频率和强度分析等多个分析维度</li>
                            <li><strong>PDF 导出</strong>：支持将图表导出为 PDF 文件，包含主趋势图和当前选中的深度分析图表</li>
                            <li><strong>本地处理</strong>：所有数据仅在本地浏览器解析，不会上传至任何服务器</li>
                        </ul>

                        <hr>

                        <h2>快速开始</h2>
                        <h3>前置准备</h3>
                        <ol>
                            <li><strong>健身记录文件</strong>：准备 CSV 格式的苹果健身记录数据文件</li>
                            <li><strong>浏览器</strong>：推荐使用 Chrome、Edge 或 Safari 浏览器</li>
                        </ol>

                        <h3>基本流程</h3>
                        <ol>
                            <li>打开工具页面</li>
                            <li>点击"载入 CSV"按钮，选择您的健身记录 CSV 文件</li>
                            <li>工具会自动解析数据并显示：
                                <ul>
                                    <li><strong>数据状态</strong>：显示已加载的数据条数</li>
                                    <li><strong>健身记录趋势图表</strong>：展示运动距离和时间的变化趋势（柱状图 + 折线图）</li>
                                    <li><strong>深度分析面板</strong>：提供平均速度、每周统计、运动频率、强度分析等多个分析维度</li>
                                </ul>
                            </li>
                            <li>使用视图切换按钮（日视图/月视图/年视图）查看不同时间维度的数据聚合结果</li>
                            <li>在深度分析面板中，可以切换不同的分析维度查看详细数据</li>
                            <li>如需导出图表，点击顶部"导出PDF"按钮即可保存为 PDF 文件</li>
                        </ol>

                        <hr>

                        <h2>核心功能</h2>
                        <h3>1. 数据加载</h3>
                        <ul>
                            <li><strong>CSV 文件导入</strong>：支持手动选择 CSV 格式的健身记录文件</li>
                            <li><strong>自动加载</strong>：工具会自动尝试从本地 Data 目录加载默认文件（如果配置了 Data/index.json）</li>
                            <li>所有数据仅在本地浏览器解析，不会上传至任何服务器</li>
                        </ul>

                        <h3>2. 健身记录趋势</h3>
                        <ul>
                            <li>使用柱状图展示运动距离（米），使用折线图展示训练时间（秒，工具会自动转换为分:秒格式显示）</li>
                            <li>支持三种视图模式：
                                <ul>
                                    <li><strong>日视图</strong>：按天显示每日的运动数据</li>
                                    <li><strong>月视图</strong>：按月聚合数据，显示每月的运动统计（默认）</li>
                                    <li><strong>年视图</strong>：按年聚合数据，显示每年的运动统计</li>
                                </ul>
                            </li>
                            <li>图表使用主题色系：距离使用品牌蓝色（#3E62AD），训练时间使用品牌橙色（#FF8A00）</li>
                            <li>图表高度固定为 600px，与深度分析图表保持一致</li>
                        </ul>

                        <h3>3. 深度分析</h3>
                        <ul>
                            <li><strong>平均速度分析</strong>：展示每次运动的平均速度（米/秒）趋势图，支持转换为公里/小时显示</li>
                            <li><strong>每周统计</strong>：展示每周的总距离、总时间和平均速度（公里/小时）的统计图表（柱状图 + 双折线图）</li>
                            <li><strong>运动频率</strong>：展示每周运动天数的柱状图，帮助了解运动习惯</li>
                            <li><strong>强度分析</strong>：基于心率区间分布的环形图，展示不同强度区间的占比：
                                <ul>
                                    <li>A Easy：轻松区间（<115bpm）</li>
                                    <li>B Fat Burn：燃脂区间（115-135bpm）</li>
                                    <li>C Moderate：中等强度（135-155bpm）</li>
                                    <li>D Hard：高强度（155-175bpm）</li>
                                    <li>E Extreme：极限强度（>175bpm）</li>
                                </ul>
                            </li>
                            <li>所有分析图表使用统一的主题色系，视觉效果清晰美观</li>
                        </ul>

                        <h3>4. PDF 导出</h3>
                        <ul>
                            <li>支持将图表导出为 PDF 文件</li>
                            <li>导出内容包含：主趋势图表和当前选中的深度分析图表</li>
                            <li>导出按钮位于页面顶部操作栏，与其他工具保持一致</li>
                        </ul>

                        <hr>

                        <h2>数据格式要求</h2>
                        <ul>
                            <li>健身记录文件必须是 CSV 格式</li>
                            <li>CSV 文件应包含以下列（具体列名可能因数据源而异）：
                                <ul>
                                    <li><strong>日期</strong>：运动记录的日期</li>
                                    <li><strong>距离</strong>：运动距离（单位：公里或米）</li>
                                    <li><strong>时间</strong>：运动时长（单位：秒，工具支持秒数或分:秒格式，如 "3600" 或 "60:00"）</li>
                                    <li><strong>心率区间占比（可选）</strong>：用于强度分析，包括：
                                        <ul style="margin-top: 4px; margin-left: 20px; list-style: circle;">
                                            <li>Heart rate zone: A Easy (<115bpm)(%)</li>
                                            <li>Heart rate zone: B Fat Burn (115-135bpm)(%)</li>
                                            <li>Heart rate zone: C Moderate Training (135-155bpm)(%)</li>
                                            <li>Heart rate zone: D Hard Training (155-175bpm)(%)</li>
                                            <li>Heart rate zone: E Extreme Training (>175bpm)(%)</li>
                                        </ul>
                                    </li>
                                    <li>其他相关字段（如运动类型、卡路里等，根据实际数据而定）</li>
                                </ul>
                            </li>
                            <li>数据按日期升序排列效果最佳</li>
                            <li>示例格式：
                                <pre><code>日期,距离(km),时间(分钟),类型
2025/01/01,5.2,30,跑步
2025/01/02,3.5,25,步行
2025/01/03,10.0,60,骑行
...</code></pre>
                            </li>
                        </ul>

                        <hr>

                        <h2>注意事项</h2>
                        <ul>
                            <li>所有数据仅在本地浏览器解析，不会上传至任何服务器，请放心使用</li>
                            <li>建议使用最新版本的 Chrome、Edge 或 Safari 浏览器以获得最佳体验</li>
                            <li>如果 CSV 文件较大，加载和解析可能需要几秒钟时间</li>
                            <li>图表需要 Chart.js 库支持，如果图表无法显示，请检查网络连接或刷新页面</li>
                            <li>PDF 导出功能需要 html2canvas 和 jsPDF 库支持，首次使用时会自动加载</li>
                            <li>确保 CSV 文件格式正确，日期和数值字段格式规范，否则可能导致解析失败</li>
                            <li>图表和选项卡使用统一的主题色系，视觉效果清晰美观</li>
                            <li>视图切换按钮和分析选项卡支持光扫效果，悬停时有蓝色高亮和光扫动画</li>
                        </ul>

                        <hr>

                        <h2>使用技巧</h2>
                        <ul>
                            <li>工具会自动尝试从本地 Data 目录加载默认文件，如果配置了 Data/index.json</li>
                            <li>使用视图切换按钮可以快速查看不同时间维度的数据聚合结果</li>
                            <li>在深度分析面板中，可以切换不同的分析维度，从不同角度观察运动数据</li>
                            <li>图表使用主题色系，距离使用品牌蓝色，训练时间使用品牌橙色，视觉效果统一</li>
                            <li>PDF 导出功能会包含主趋势图和当前选中的深度分析图表，便于保存和分享</li>
                        </ul>

                        <hr>

                        <h2>常见问题</h2>
                        <h3>Q1: CSV 文件无法加载？</h3>
                        <p><strong>A</strong>：可能的原因：</p>
                        <ul>
                            <li>文件格式不正确，请确保是有效的 CSV 格式</li>
                            <li>文件编码问题，建议使用 UTF-8 编码</li>
                            <li>文件过大，尝试使用较小的文件或等待加载完成</li>
                            <li>检查浏览器控制台是否有错误信息</li>
                        </ul>

                        <h3>Q2: 图表无法显示？</h3>
                        <p><strong>A</strong>：可能的原因：</p>
                        <ul>
                            <li>Chart.js 库未正确加载，刷新页面重试</li>
                            <li>网络连接问题，检查网络连接是否正常</li>
                            <li>数据格式问题，检查 CSV 文件中的日期和数值字段格式是否正确</li>
                            <li>浏览器控制台是否有错误信息</li>
                        </ul>

                        <h3>Q3: PDF 导出失败？</h3>
                        <p><strong>A</strong>：可能的原因：</p>
                        <ul>
                            <li>html2canvas 或 jsPDF 库未正确加载，刷新页面重试</li>
                            <li>图表未完全渲染，等待图表加载完成后再导出</li>
                            <li>浏览器兼容性问题，尝试使用 Chrome 或 Edge 浏览器</li>
                            <li>检查浏览器控制台是否有错误信息</li>
                        </ul>

                        <h3>Q4: 心率区间数据不显示？</h3>
                        <p><strong>A</strong>：如果强度分析图表显示"无心率数据"，可能的原因：</p>
                        <ul>
                            <li>CSV 文件中没有包含心率区间数据列</li>
                            <li>心率区间列名不匹配，检查列名是否包含 "Heart rate zone" 关键字</li>
                            <li>数据格式不正确，确保心率区间数据为百分比数值（0-100）</li>
                        </ul>
                    </div>
                </div>

                <!-- 使用声明 -->
                <div class="card-white mt-20">
                    <h2 class="usage-statement-title">Admin · 健身记录面板使用声明</h2>
                    <p class="usage-statement-text">本工具用于可视化您的苹果健身记录数据，解析结果仅供个人使用，帮助您追踪运动距离和时间趋势。</p>
                    <p class="usage-statement-text">所有数据仅在本地浏览器解析，不会上传至任何服务器，请放心使用。</p>
                </div>
            </div>
        </main>
    </div>

    <!-- 引入导航栏公共组件 -->
    <script src="vendor/common-utils.js"></script>
    <script src="vendor/debug-utils.js"></script>
    <script src="vendor/sidebar-loader.js"></script>
    <script>
        init001ToolPage('Admin-Workouts-README.html', 'admin');
    </script>
</body>
</html>
