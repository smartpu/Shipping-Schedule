<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor · 访客统计使用说明</title>
    <link rel="stylesheet" href="vendor/auth.css">
    <link rel="stylesheet" href="vendor/common-styles.css">
    <link rel="stylesheet" href="vendor/readme-styles.css">
    <style>
        /* 页面特定样式（保留与公共样式不同的部分） */
    </style>
</head>
<body data-page="Monitor-Access-Log-README.html">
    <!-- 用户验证模态框 -->
    <div id="authOverlay" class="auth-overlay">
        <div class="auth-modal">
            <h2>🔐 访问验证</h2>
            <p>为了了解工具使用情况，请填写以下信息</p>
            <form id="authForm">
                <div class="auth-form-group">
                    <label for="userName">姓名 *</label>
                    <input type="text" id="userName" name="userName" placeholder="请输入您的姓名" required autocomplete="name">
                    <div class="auth-error" id="nameError">请输入您的姓名</div>
                </div>
                <div class="auth-form-group">
                    <label for="userPhone">手机号 *</label>
                    <input type="tel" id="userPhone" name="userPhone" placeholder="请输入您的手机号" required autocomplete="tel">
                    <div class="auth-error" id="phoneError">请输入有效的手机号</div>
                </div>
                <div class="auth-form-group">
                    <label for="userEmail">邮箱 *</label>
                    <input type="email" id="userEmail" name="userEmail" placeholder="请输入您的邮箱地址" required autocomplete="email">
                    <div class="auth-error" id="emailError">请输入有效的邮箱地址</div>
                </div>
                <button type="submit" class="auth-submit-btn">确认并继续</button>
            </form>
        </div>
    </div>
    <div class="container">
        <div class="header">
            <a href="index.html?tab=monitor" class="back-home-btn">← 返回首页</a>
            <h1>Monitor · 访客统计使用说明</h1>
        </div>

        <div class="content">
            <h2>工具简介</h2>
            <p>访客统计分析工具，用于分析访问日志数据，了解工具使用情况。支持用户访问排名、页面访问排名、访问时间分析等功能，帮助快速掌握用户访问行为和页面访问热度。</p>

            <hr>

            <h2>功能特点</h2>
            <ul>
                <li><strong>自动加载日志</strong>：支持自动从 <code>data/access-logs.json</code> 加载访问日志数据</li>
                <li><strong>统计概览</strong>：显示总访问次数、独立访客数、访问页面数和平均访问次数</li>
                <li><strong>用户访问排名</strong>：按访问次数排序，显示前20名用户的访问统计信息</li>
                <li><strong>页面访问排名</strong>：按访问次数排序，显示前20个最受欢迎的页面</li>
                <li><strong>访问时间分析</strong>：使用图表展示访问趋势，支持按小时/日期/周/月维度查看</li>
                <li><strong>手动上传</strong>：支持手动选择 JSON 格式的访问日志文件</li>
            </ul>

            <hr>

            <h2>使用步骤</h2>
            <ol>
                <li>在浏览器中打开 <code>Monitor-Access-Log.html</code>（推荐 Chrome / Edge / Safari）</li>
                <li><strong>注意</strong>：<code>access-logs.json</code> 是隐私文件，不上传 GitHub，不会自动加载</li>
                <li>点击"载入访问日志"按钮，手动选择 JSON 格式的访问日志文件</li>
                <li>加载成功后，工具会自动显示：
                    <ul>
                        <li><strong>统计概览</strong>：总访问次数、独立访客、访问页面数、平均访问次数</li>
                        <li><strong>用户访问排名</strong>：前20名用户的访问统计（排名、姓名、手机号、邮箱、访问次数、最后访问时间）</li>
                        <li><strong>页面访问排名</strong>：前20个最受欢迎的页面（排名、页面、访问次数、独立访客、访问占比）</li>
                        <li><strong>访问时间分析</strong>：默认按日期显示访问趋势图表，可切换为按小时/周/月查看</li>
                    </ul>
                </li>
                <li>在"访问时间分析"部分，点击不同的时间维度按钮（按小时/按日期/按周/按月）切换查看方式</li>
            </ol>

            <hr>

            <h2>数据格式要求</h2>
            <ul>
                <li>访问日志文件必须是 JSON 格式</li>
                <li>数据应为数组格式，每个元素包含以下字段：
                    <ul>
                        <li><strong>page</strong>：访问的页面名称（字符串）</li>
                        <li><strong>name</strong>：用户姓名（字符串）</li>
                        <li><strong>phone</strong>：用户手机号（字符串）</li>
                        <li><strong>email</strong>：用户邮箱（字符串）</li>
                        <li><strong>timestamp</strong>：访问时间戳（数字，毫秒）</li>
                        <li><strong>date</strong>：格式化的日期时间字符串（可选）</li>
                    </ul>
                </li>
                <li>示例格式：
                    <pre><code>[
  {
    "page": "index.html",
    "name": "张三",
    "phone": "13800138000",
    "email": "zhangsan@example.com",
    "timestamp": 1765966118650,
    "date": "2025/12/17 18:08:38"
  },
  ...
]</code></pre>
                </li>
            </ul>

            <hr>

            <h2>统计说明</h2>
            <ul>
                <li><strong>总访问次数</strong>：访问日志中的总记录数</li>
                <li><strong>独立访客</strong>：根据姓名、手机号和邮箱组合去重后的用户数量</li>
                <li><strong>访问页面数</strong>：访问日志中出现的不同页面数量</li>
                <li><strong>平均访问次数</strong>：总访问次数除以独立访客数</li>
                <li><strong>用户访问排名</strong>：按访问次数从高到低排序，只显示前20名</li>
                <li><strong>页面访问排名</strong>：按访问次数从高到低排序，只显示前20个页面</li>
                <li><strong>访问占比</strong>：该页面的访问次数占总访问次数的百分比</li>
            </ul>

            <hr>

            <h2>注意事项</h2>
            <ul>
                <li>所有数据仅在本地浏览器解析，不会上传至任何服务器</li>
                <li>统计数据仅供参考，不构成任何商业决策依据</li>
                <li>建议使用最新版本的 Chrome、Edge 或 Safari 浏览器以获得最佳体验</li>
                <li>如果访问日志文件较大，加载和解析可能需要几秒钟时间</li>
                <li>时间分析图表需要 Chart.js 库支持，如果图表无法显示，请检查网络连接或刷新页面</li>
            </ul>
        </div>
    </div>

    <!-- 使用 Gist 存储系统（用户白名单 + 访问记录） -->
    <script src="vendor/auth-gist.js"></script>
    <script>
        // 验证系统使用 vendor/auth-gist.js
    </script>
</body>
</html>
